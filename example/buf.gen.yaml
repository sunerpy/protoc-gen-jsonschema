version: v2

plugins:
  - remote: buf.build/protocolbuffers/go
    out: .
    opt: paths=source_relative
  - remote: buf.build/grpc/go
    # Make sure to generate your grpc-go code to the same
    # directory as protoc-gen-go
    out: .
    opt: paths=source_relative

  # # 1. 生成 _pb2.py  和 _pb2.pyi
  # - remote: buf.build/protocolbuffers/python
  #   out: .      # 生成目录随意
  # # 2. 生成 _pb2_grpc.py （如果 proto 里定义了 service）
  # - remote: buf.build/grpc/python
  #   out: .
inputs:
  - proto_file: user.proto